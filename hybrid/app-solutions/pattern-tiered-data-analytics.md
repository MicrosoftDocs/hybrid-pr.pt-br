---
title: Dados em camadas para o padrão de análise usando o Azure e o Hub de Azure Stack
description: Saiba como usar o Azure e o Hub de Azure Stack para implementar uma solução de dados em camadas em toda a nuvem híbrida.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: b671fa9f47fa51ab6e40633c04964957d613fec2
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/17/2020
ms.locfileid: "84909837"
---
# <a name="tiered-data-for-analytics-pattern"></a><span data-ttu-id="d3887-103">Dados em camadas para o padrão de análise</span><span class="sxs-lookup"><span data-stu-id="d3887-103">Tiered data for analytics pattern</span></span>

<span data-ttu-id="d3887-104">Esse padrão ilustra como usar Azure Stack Hub e o Azure para preparar, analisar, processar, limpar e armazenar dados em vários locais de nuvem e local.</span><span class="sxs-lookup"><span data-stu-id="d3887-104">This pattern illustrates how to use Azure Stack Hub and Azure to stage, analyze, process, sanitize, and store data across multiple on-premises and cloud locations.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="d3887-105">Contexto e problema</span><span class="sxs-lookup"><span data-stu-id="d3887-105">Context and problem</span></span>

<span data-ttu-id="d3887-106">Um dos problemas enfrentados pelas organizações empresariais no cenário de tecnologia moderna se refere ao armazenamento de dados seguro, processamento e análise.</span><span class="sxs-lookup"><span data-stu-id="d3887-106">One of the problems facing enterprise organizations in the modern technology landscape concerns secure data storage, processing, and analyzing.</span></span> <span data-ttu-id="d3887-107">As considerações incluem:</span><span class="sxs-lookup"><span data-stu-id="d3887-107">Considerations include:</span></span>

- <span data-ttu-id="d3887-108">conteúdo de dados</span><span class="sxs-lookup"><span data-stu-id="d3887-108">data content</span></span>
- <span data-ttu-id="d3887-109">local</span><span class="sxs-lookup"><span data-stu-id="d3887-109">location</span></span>
- <span data-ttu-id="d3887-110">requisitos de segurança e privacidade</span><span class="sxs-lookup"><span data-stu-id="d3887-110">security and privacy requirements</span></span>
- <span data-ttu-id="d3887-111">permissões de acesso</span><span class="sxs-lookup"><span data-stu-id="d3887-111">access permissions</span></span>
- <span data-ttu-id="d3887-112">manutenção</span><span class="sxs-lookup"><span data-stu-id="d3887-112">maintenance</span></span>
- <span data-ttu-id="d3887-113">depósito de armazenamento</span><span class="sxs-lookup"><span data-stu-id="d3887-113">storage warehousing</span></span>

<span data-ttu-id="d3887-114">O Azure, junto com o Hub de Azure Stack, soluciona problemas de dados e oferece soluções de baixo custo.</span><span class="sxs-lookup"><span data-stu-id="d3887-114">Azure, in combination with Azure Stack Hub, addresses data concerns and offers low-cost solutions.</span></span> <span data-ttu-id="d3887-115">Essa solução é melhor expressa por meio de uma empresa distribuída de manufatura ou logística.</span><span class="sxs-lookup"><span data-stu-id="d3887-115">This solution is best expressed through a distributed manufacturing or logistics company.</span></span>

<span data-ttu-id="d3887-116">A solução é baseada no cenário a seguir:</span><span class="sxs-lookup"><span data-stu-id="d3887-116">The solution is based on the following scenario:</span></span>

- <span data-ttu-id="d3887-117">Uma grande organização de manufatura de várias ramificações.</span><span class="sxs-lookup"><span data-stu-id="d3887-117">A large multi-branch manufacturing organization.</span></span>
- <span data-ttu-id="d3887-118">O armazenamento de dados rápido e seguro, o processamento e a distribuição entre locais remotos globais e suas sedes centrais são necessários.</span><span class="sxs-lookup"><span data-stu-id="d3887-118">Rapid and secure data storage, processing, and distribution between global remote locations and its central headquarters are required.</span></span>
- <span data-ttu-id="d3887-119">Atividade de funcionários e máquinas, informações de instalações e dados de relatórios de negócios que devem permanecer seguros.</span><span class="sxs-lookup"><span data-stu-id="d3887-119">Employee and machinery activity, facility information, and business reporting data that must remain secure.</span></span> <span data-ttu-id="d3887-120">Os dados devem ser distribuídos adequadamente e atender às normas da política de conformidade regional e do setor.</span><span class="sxs-lookup"><span data-stu-id="d3887-120">The data must be distributed appropriately and meet regional compliance policy and industry regulations.</span></span>

## <a name="solution"></a><span data-ttu-id="d3887-121">Solução</span><span class="sxs-lookup"><span data-stu-id="d3887-121">Solution</span></span>

<span data-ttu-id="d3887-122">O uso de ambientes de nuvem pública e local atende às demandas de várias instalações de empresas.</span><span class="sxs-lookup"><span data-stu-id="d3887-122">Using both on-premises and public cloud environments meets the demands of multi-facility enterprises.</span></span> <span data-ttu-id="d3887-123">O Hub de Azure Stack oferece uma solução rápida, segura e flexível para coletar, processar, armazenar e distribuir dados locais e remotos.</span><span class="sxs-lookup"><span data-stu-id="d3887-123">Azure Stack Hub offers a rapid, secure, and flexible solution for collecting, processing, storing, and distributing local and remote data.</span></span> <span data-ttu-id="d3887-124">Esse padrão é especialmente útil quando a segurança, a confidencialidade, a política corporativa e os requisitos regulatórios podem ser diferentes entre locais e usuários.</span><span class="sxs-lookup"><span data-stu-id="d3887-124">This pattern is especially useful when security, confidentiality, corporate policy, and regulatory requirements may differ between locations and users.</span></span>

![Padrão de dados em camadas para arquitetura de solução de análise](media/pattern-tiered-data-analytics/solution-architecture.png)

## <a name="components"></a><span data-ttu-id="d3887-126">Componentes</span><span class="sxs-lookup"><span data-stu-id="d3887-126">Components</span></span>

<span data-ttu-id="d3887-127">Esse padrão usa os seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="d3887-127">This pattern uses the following components:</span></span>

| <span data-ttu-id="d3887-128">Camada</span><span class="sxs-lookup"><span data-stu-id="d3887-128">Layer</span></span> | <span data-ttu-id="d3887-129">Componente</span><span class="sxs-lookup"><span data-stu-id="d3887-129">Component</span></span> | <span data-ttu-id="d3887-130">Descrição</span><span class="sxs-lookup"><span data-stu-id="d3887-130">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="d3887-131">Azure</span><span class="sxs-lookup"><span data-stu-id="d3887-131">Azure</span></span> | <span data-ttu-id="d3887-132">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="d3887-132">Storage</span></span> | <span data-ttu-id="d3887-133">Uma conta de [armazenamento do Azure](/azure/storage/) fornece um ponto de extremidade de consumo de dados estéril.</span><span class="sxs-lookup"><span data-stu-id="d3887-133">An [Azure Storage](/azure/storage/) account provides a sterile data consumption endpoint.</span></span> <span data-ttu-id="d3887-134">O armazenamento do Azure é uma solução de armazenamento em nuvem da Microsoft para cenários de armazenamento de dados modernos.</span><span class="sxs-lookup"><span data-stu-id="d3887-134">Azure Storage is Microsoft's cloud storage solution for modern data storage scenarios.</span></span> <span data-ttu-id="d3887-135">O armazenamento do Azure oferece um armazenamento de objetos altamente escalonável para objetos de dados e um serviço de sistema de arquivos para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="d3887-135">Azure Storage offers a massively scalable object store for data objects and a file system service for the cloud.</span></span> <span data-ttu-id="d3887-136">Ele também fornece um repositório de mensagens para mensagens confiáveis e um repositório NoSQL.</span><span class="sxs-lookup"><span data-stu-id="d3887-136">It also provides a messaging store for reliable messaging and a NoSQL store.</span></span> |
| <span data-ttu-id="d3887-137">Hub de Azure Stack</span><span class="sxs-lookup"><span data-stu-id="d3887-137">Azure Stack Hub</span></span> | <span data-ttu-id="d3887-138">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="d3887-138">Storage</span></span> | <span data-ttu-id="d3887-139">Uma conta de [armazenamento de Hub Azure Stack](/azure-stack/user/azure-stack-storage-overview) é usada para vários serviços:</span><span class="sxs-lookup"><span data-stu-id="d3887-139">An [Azure Stack Hub Storage](/azure-stack/user/azure-stack-storage-overview) account is used for multiple services:</span></span><br><br><span data-ttu-id="d3887-140">- **Armazenamento de BLOBs** para armazenamento de dados brutos.</span><span class="sxs-lookup"><span data-stu-id="d3887-140">- **Blob storage** for raw data storage.</span></span> <span data-ttu-id="d3887-141">O armazenamento de BLOBs pode conter qualquer tipo de dados de texto ou binários, como um documento, arquivo de mídia ou instalador de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d3887-141">Blob storage can hold any type of text or binary data, such as a document, media file, or app installer.</span></span> <span data-ttu-id="d3887-142">Cada blob é organizado em um contêiner.</span><span class="sxs-lookup"><span data-stu-id="d3887-142">Every blob is organized under a container.</span></span> <span data-ttu-id="d3887-143">Os contêineres fornecem uma maneira útil de atribuir políticas de segurança a grupos de objetos.</span><span class="sxs-lookup"><span data-stu-id="d3887-143">Containers provide a useful way to assign security policies to groups of objects.</span></span> <span data-ttu-id="d3887-144">Uma conta de armazenamento pode conter qualquer número de contêineres, e um contêiner pode conter qualquer número de BLOBs, até o limite de capacidade de 500 TB da conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="d3887-144">A storage account may contain any number of containers, and a container can contain any number of blobs, up to the 500-TB capacity limit of the storage account.</span></span><br><span data-ttu-id="d3887-145">- **Armazenamento de BLOBs** para arquivamento de dados.</span><span class="sxs-lookup"><span data-stu-id="d3887-145">- **Blob storage** for data archive.</span></span> <span data-ttu-id="d3887-146">Há benefícios para o armazenamento de baixo custo para arquivamento de dados frios.</span><span class="sxs-lookup"><span data-stu-id="d3887-146">There are benefits to low-cost storage for cool data archiving.</span></span> <span data-ttu-id="d3887-147">Exemplos de dados interessantes incluem backups, conteúdo de mídia, dados científicos, conformidade e dados de arquivamento.</span><span class="sxs-lookup"><span data-stu-id="d3887-147">Examples of cool data include backups, media content, scientific data, compliance, and archival data.</span></span> <span data-ttu-id="d3887-148">Em geral, todos os dados que são acessados raramente são considerados armazenamento frio.</span><span class="sxs-lookup"><span data-stu-id="d3887-148">In general, any data that's accessed infrequently is considered cool storage.</span></span> <span data-ttu-id="d3887-149">Camadas de dados com base em atributos como frequência de acesso e período de retenção.</span><span class="sxs-lookup"><span data-stu-id="d3887-149">Tiering data based on attributes like frequency of access and retention period.</span></span> <span data-ttu-id="d3887-150">Os dados do cliente são acessados com pouca frequência, mas exigem latência e desempenho semelhantes para dados ativos.</span><span class="sxs-lookup"><span data-stu-id="d3887-150">Customer data is infrequently accessed but requires similar latency and performance to hot data.</span></span><br><span data-ttu-id="d3887-151">- **Armazenamento de filas** para armazenamento de dados processados.</span><span class="sxs-lookup"><span data-stu-id="d3887-151">- **Queue storage** for processed data storage.</span></span> <span data-ttu-id="d3887-152">O armazenamento de filas fornece mensagens de nuvem entre os componentes do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d3887-152">Queue storage provides cloud messaging between app components.</span></span> <span data-ttu-id="d3887-153">Na criação de aplicativos para escala, os componentes do aplicativo geralmente são dissociados para que possam ser dimensionados de forma independente.</span><span class="sxs-lookup"><span data-stu-id="d3887-153">In designing apps for scale, app components are often decoupled so they can scale independently.</span></span> <span data-ttu-id="d3887-154">O armazenamento de filas fornece mensagens assíncronas para comunicação entre os componentes do aplicativo, se eles estão em execução na nuvem, na área de trabalho, em um servidor local ou em um dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="d3887-154">Queue storage delivers asynchronous messaging for communication between app components, whether they're running in the cloud, on the desktop, an on-premises server, or a mobile device.</span></span> <span data-ttu-id="d3887-155">O armazenamento de Fila também dá suporte ao gerenciamento de tarefas assíncronas e à criação de fluxos de trabalho do processo.</span><span class="sxs-lookup"><span data-stu-id="d3887-155">Queue storage also supports managing asynchronous tasks and building process work flows.</span></span> |
| | <span data-ttu-id="d3887-156">Funções do Azure</span><span class="sxs-lookup"><span data-stu-id="d3887-156">Azure Functions</span></span> | <span data-ttu-id="d3887-157">O serviço de [Azure Functions](/azure/azure-functions/) é fornecido pelo [serviço de Azure app no provedor de recursos do Hub Azure Stack](/azure-stack/operator/azure-stack-app-service-overview) .</span><span class="sxs-lookup"><span data-stu-id="d3887-157">The [Azure Functions](/azure/azure-functions/) service is provided by the [Azure App Service on Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) resource provider.</span></span> <span data-ttu-id="d3887-158">Azure Functions permite que você execute seu código em um ambiente simples e sem servidor em resposta a uma variedade de eventos.</span><span class="sxs-lookup"><span data-stu-id="d3887-158">Azure Functions lets you execute your code in a simple, serverless environment in response to a variety of events.</span></span> <span data-ttu-id="d3887-159">Azure Functions escalar para atender à demanda sem precisar criar uma VM ou publicar um aplicativo Web, usando a linguagem de programação de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="d3887-159">Azure Functions scale to meet demand without having to create a VM or publish a web app, using the programming language of your choice.</span></span> <span data-ttu-id="d3887-160">As funções são usadas pela solução para:</span><span class="sxs-lookup"><span data-stu-id="d3887-160">Functions are used by the solution for:</span></span><br><br><span data-ttu-id="d3887-161">- **Entrada de dados**</span><span class="sxs-lookup"><span data-stu-id="d3887-161">- **Data intake**</span></span><br><span data-ttu-id="d3887-162">- **Sterilization de dados.**</span><span class="sxs-lookup"><span data-stu-id="d3887-162">- **Data sterilization.**</span></span> <span data-ttu-id="d3887-163">As funções disparadas manualmente podem executar processamento de dados agendado, limpeza e arquivamento.</span><span class="sxs-lookup"><span data-stu-id="d3887-163">Manually triggered functions can perform scheduled data processing, clean up, and archiving.</span></span> <span data-ttu-id="d3887-164">Exemplos podem incluir limpezas de lista de clientes à noite e processamento de relatório mensal.</span><span class="sxs-lookup"><span data-stu-id="d3887-164">Examples may include nightly customer list scrubs and monthly report processing.</span></span>|

## <a name="issues-and-considerations"></a><span data-ttu-id="d3887-165">Problemas e considerações</span><span class="sxs-lookup"><span data-stu-id="d3887-165">Issues and considerations</span></span>

<span data-ttu-id="d3887-166">Considere os seguintes pontos ao decidir como implementar essa solução:</span><span class="sxs-lookup"><span data-stu-id="d3887-166">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="d3887-167">Escalabilidade</span><span class="sxs-lookup"><span data-stu-id="d3887-167">Scalability</span></span>

<span data-ttu-id="d3887-168">As soluções de Azure Functions e armazenamento são dimensionadas para atender às demandas de processamento e volume de dados.</span><span class="sxs-lookup"><span data-stu-id="d3887-168">Azure Functions and storage solutions scale to meet data volume and processing demands.</span></span> <span data-ttu-id="d3887-169">Para obter informações de escalabilidade e destinos do Azure, consulte [documentação de escalabilidade do armazenamento do Azure](/azure/storage/common/storage-scalability-targets).</span><span class="sxs-lookup"><span data-stu-id="d3887-169">For Azure scalability information and targets, see [Azure Storage scalability documentation](/azure/storage/common/storage-scalability-targets).</span></span>

### <a name="availability"></a><span data-ttu-id="d3887-170">Disponibilidade</span><span class="sxs-lookup"><span data-stu-id="d3887-170">Availability</span></span>

<span data-ttu-id="d3887-171">O armazenamento é a principal consideração de disponibilidade para esse padrão.</span><span class="sxs-lookup"><span data-stu-id="d3887-171">Storage is the primary availability consideration for this pattern.</span></span> <span data-ttu-id="d3887-172">A conexão por meio de links rápidos é necessária para o processamento e a distribuição de grandes volumes de dados.</span><span class="sxs-lookup"><span data-stu-id="d3887-172">Connection via fast links is required for large data volume processing and distribution.</span></span>

### <a name="manageability"></a><span data-ttu-id="d3887-173">Capacidade de gerenciamento</span><span class="sxs-lookup"><span data-stu-id="d3887-173">Manageability</span></span>

<span data-ttu-id="d3887-174">A capacidade de gerenciamento dessa solução depende das ferramentas de criação em uso e do envolvimento do controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="d3887-174">Manageability of this solution depends on authoring tools in use and engagement of source control.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d3887-175">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="d3887-175">Next steps</span></span>

<span data-ttu-id="d3887-176">Para saber mais sobre os tópicos apresentados neste artigo:</span><span class="sxs-lookup"><span data-stu-id="d3887-176">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="d3887-177">Consulte o [armazenamento do Azure](/azure/storage/) e a documentação de [Azure Functions](/azure/azure-functions/) .</span><span class="sxs-lookup"><span data-stu-id="d3887-177">See the [Azure Storage](/azure/storage/) and [Azure Functions](/azure/azure-functions/) documentation.</span></span> <span data-ttu-id="d3887-178">Esse padrão faz uso intensivo de contas de armazenamento do Azure e Azure Functions no Azure e no Hub de Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="d3887-178">This pattern makes heavy use of Azure Storage accounts and Azure Functions on both Azure and Azure Stack Hub.</span></span>
- <span data-ttu-id="d3887-179">Consulte [considerações de design de aplicativo híbrido](overview-app-design-considerations.md) para saber mais sobre as práticas recomendadas e obter respostas para perguntas adicionais.</span><span class="sxs-lookup"><span data-stu-id="d3887-179">See [Hybrid application design considerations](overview-app-design-considerations.md) to learn more about best practices and to get answers to additional questions.</span></span>
- <span data-ttu-id="d3887-180">Consulte a [família de produtos e soluções Azure Stack](/azure-stack) para saber mais sobre todo o portfólio de produtos e soluções.</span><span class="sxs-lookup"><span data-stu-id="d3887-180">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="d3887-181">Quando você estiver pronto para testar o exemplo de solução, continue com os [dados em camadas para o guia de implantação da solução de análise](https://aka.ms/tiereddatadeploy).</span><span class="sxs-lookup"><span data-stu-id="d3887-181">When you're ready to test the solution example, continue with the [Tiered data for analytics solution deployment guide](https://aka.ms/tiereddatadeploy).</span></span> <span data-ttu-id="d3887-182">O guia de implantação fornece instruções passo a passo para implantar e testar seus componentes.</span><span class="sxs-lookup"><span data-stu-id="d3887-182">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
